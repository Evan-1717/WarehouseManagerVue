{"version":3,"sources":["webpack:///./src/components/advertiser/AdvertiserManage.vue","webpack:///src/components/advertiser/AdvertiserManage.vue","webpack:///./src/components/advertiser/AdvertiserManage.vue?5d71","webpack:///./src/components/advertiser/AdvertiserManage.vue?39bd"],"names":["render","_vm","this","_c","_self","staticStyle","ref","attrs","form","model","value","form1","date1","callback","$$v","$set","expression","_v","date2","directives","name","rawName","user","roleId","nativeOn","$event","type","indexOf","_k","keyCode","key","loadPost","apply","arguments","creater","_l","users","item","on","resetParam","aiAnalyze","tableData","getSummaries","scopedSlots","_u","fn","scope","history","row","pageNum","pageSize","total","handleSizeChange","handleCurrentChange","aiAskDialogVisible","rules","formAiAsk","ask","staticClass","slot","aiAnswerDialogVisible","_s","aiAnswer","question","historyDialogVisible","daily_recharge","daily_cost","staticRenderFns","data","centerDialogVisible","id","date","update_date","advertiser_id","media_advertiser_nick","media_account_id","fund_cost","fund_recharge","stat_cost","pay_amount_roi","stat_pay_amount","fanqiefufeiroi","media_account_name","media_source","required","trigger","roles","modRow","methods","console","getInputInfo","message","asker","tableName","role","lock","text","spinner","background","loading","columns","fund_costSum","stat_costSum","sums","fixed","fixed2","resetForm","exportExcel","confirmButtonText","cancelButtonText","then","url","method","location","content","hiredate1","hiredate2","responseType","res","link","document","window","catch","currentDate","month","hour","minute","param","alert","beforeMount","component"],"mappings":"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AgB,SAAS5B,GAAM,OAAOlC,EAAG,MAAM,CAAC2B,IAAIO,GAAM,CAACpC,EAAIgB,GAAG,IAAIhB,EAAI4D,GAAGxB,GAAM,WAAU,GAAGlC,EAAG,MAAM,CAACE,YAAY,CAAC,cAAc,aAAa,CAACF,EAAG,OAAO,CAACF,EAAIgB,GAAG,UAAUhB,EAAIkC,GAAIlC,EAAIiE,YAAY,SAAS7B,GAAM,OAAOlC,EAAG,MAAM,CAAC2B,IAAIO,GAAM,CAACpC,EAAIgB,GAAG,IAAIhB,EAAI4D,GAAGxB,GAAM,WAAU,QAAQ,IAEj5L8B,EAAkB,GC2GtB,GACA/C,wBACAgD,OACA,OACA9C,mDACAyC,cACAP,WAAAC,QACAH,sBACAM,yBACAI,wBACAE,cACAD,kBACAH,YACArB,aACAS,YACAD,UACAE,QACA/B,QACAiD,uBACA7D,MACA8D,MACAC,QACAC,eACAC,gBACAC,wBACAC,mBACAC,YACAC,gBACAC,YACAC,iBACAC,kBACAC,iBACAC,qBACAC,eACAjD,WAEAvB,OACAC,SACAM,SACAgB,8DAEAqB,OACAgB,MACA,CAAAa,YAAAC,kBAGAjD,SACAkD,SACAC,YAGAC,SACAzC,WACA,6BACA,qCACA,6BACA0C,8BACAA,2BAEAC,eACA,0EACA,aACA,uBACA,wBAEA,eACAC,gBACAjE,kBAMA+B,MACA,wCACA,SACA7C,uBACAM,uBACAgB,2BACA0D,qBACAnC,uBACAoC,uBACAC,sBAEA,iBACAC,QACAC,mBACAC,0BACAC,kCAEA,2EACA,aACA,2BACA,8BACA,qBACAC,WAEA,eACAR,gBACAjE,kBAKAc,aACA,sBACA,8BACA,iBACA,2BAEA,YACA,qDACAoD,qBACAC,0BAIAnD,gBACA,cAAA0D,OAAAhC,GAAA,EACA,KACA,QACA,IACA,eACAiC,eACAC,cAaA,OAXAF,kBACA,sBACA,MACAG,UACA,MACAA,oBACA,QACAA,wBAIA,GAEAC,SACA,6BAEAC,UACA,6BAEAC,YACA,8BACA,iBAoBAC,cACA,kCACA,iCACA,4BACAC,uBACAC,sBACAnF,iBACAoF,KAAA,KACA,qBACAC,uCACAC,cACA5C,MACAxD,uBACAM,uBACA+F,6BACAC,2BACAC,+BACAC,+BACAlF,2BACA4D,sBAEAuB,sBACAP,KAAAQ,IACA,uDACA,8BACAC,SACAA,+DACAC,6BACAD,UACAE,kCACAC,MAAA,KACA,eACA/B,gBACAjE,oBAKAiG,cACA,eACA,kBACA,eACAC,eACAA,yBACA,kBACA,eACAC,yBACA,qBACAC,yBACA,qBACA,uCAGA1E,oBACA,eACA,gBACA,iBAEAC,uBACA,eACA,iBAEAd,aACA,oBACA,oBACA,uBACA,sBACA,wBACA,wBACA,oBACA,sBAEA,qCAGAR,WACA,uDACAmB,uBACAD,qBACA8E,OACAnH,uBACAM,uBACA+F,6BACAC,2BACAC,+BACAC,+BACAlF,2BACA4D,wBAEAgB,KAAAQ,WAAAR,KAAAQ,IACA,aACA,sBACA,oBAEAU,oBAMAC,cACA,oBACA,sBAEA,wEAEA,gBACA,sBC/XyT,I,YCOrTC,EAAY,eACd,EACAlI,EACAmE,GACA,EACA,KACA,WACA,MAIa,aAAA+D,E","file":"js/chunk-2d0d3e64.97e4275c.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"height\":\"100%\"}},[_c('div',{staticStyle:{\"margin-bottom\":\"5px\"}},[_c('el-form',{ref:\"form1\",attrs:{\"model\":_vm.form,\"label-width\":\"75px\"}},[_c('el-col',{attrs:{\"span\":4}},[_c('el-form-item',{attrs:{\"label\":\"创建起止日期\",\"prop\":\"creater\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"140px\"},attrs:{\"type\":\"date\",\"placeholder\":\"起始时间\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.form1.date1),callback:function ($$v) {_vm.$set(_vm.form1, \"date1\", $$v)},expression:\"form1.date1\"}}),_vm._v(\"- \"),_c('el-date-picker',{staticStyle:{\"width\":\"140px\"},attrs:{\"type\":\"date\",\"placeholder\":\"结束时间\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.form1.date2),callback:function ($$v) {_vm.$set(_vm.form1, \"date2\", $$v)},expression:\"form1.date2\"}})],1)],1),_c('el-col',{attrs:{\"span\":3}},[_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.user.roleId!=2),expression:\"user.roleId!=2\"}],attrs:{\"label\":\"记录人\",\"prop\":\"creater\"}},[_c('el-select',{staticStyle:{\"width\":\"170px\"},attrs:{\"filterable\":\"\",\"clearable\":\"\",\"multiple\":\"\",\"collapse-tags\":\"\",\"placeholder\":\"请选择\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.loadPost.apply(null, arguments)}},model:{value:(_vm.form1.creater),callback:function ($$v) {_vm.$set(_vm.form1, \"creater\", $$v)},expression:\"form1.creater\"}},_vm._l((_vm.users),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1)],1)],1),_c('el-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.loadPost}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.resetParam}},[_vm._v(\"重置\")]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.user.roleId!=2),expression:\"user.roleId!=2\"}],staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.aiAnalyze('first')}}},[_vm._v(\"AI分析\")])],1),_c('el-table',{staticStyle:{\"overflow\":\"auto\"},attrs:{\"data\":_vm.tableData,\"summary-method\":_vm.getSummaries,\"show-summary\":\"\",\"border\":\"\",\"max-height\":\"calc(100% - 200px)\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\",\"fixed\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"创建日期\",\"width\":\"100\",\"fixed\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"update_date\",\"label\":\"更新日期\",\"width\":\"100\",\"fixed\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"advertiser_id\",\"label\":\"创量账户ID\",\"width\":\"150\",\"fixed\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"media_account_name\",\"label\":\"推广链名称\",\"width\":\"500\",\"fixed\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"fund_cost\",\"label\":\"今日消耗\",\"width\":\"100\",\"fixed\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"fund_recharge\",\"label\":\"今日充值\",\"width\":\"100\",\"fixed\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"stat_cost\",\"label\":\"总消耗\",\"width\":\"100\",\"fixed\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"stat_pay_amount\",\"label\":\"总充值\",\"width\":\"100\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"pay_amount_roi\",\"label\":\"ROI\",\"width\":\"100\",\"fixed\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"media_source\",\"label\":\"小程序\",\"width\":\"100\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"creater\",\"label\":\"创建人\",\"width\":\"100\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"operate\",\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.history(scope.row)}}},[_vm._v(\"历史\")])]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.pageNum,\"page-sizes\":[10, 20, 50, 1000],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_c('el-dialog',{attrs:{\"title\":\"提问\",\"visible\":_vm.aiAskDialogVisible,\"width\":\"31%\",\"center\":\"\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.aiAskDialogVisible=$event}}},[_c('el-form',{ref:\"formAiAskRef\",attrs:{\"rules\":_vm.rules,\"model\":_vm.formAiAsk,\"label-width\":\"140px\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"请输入问题:\",\"prop\":\"ask\"}},[_c('el-input',{staticStyle:{\"width\":\"400px\"},attrs:{\"precision\":2},model:{value:(_vm.formAiAsk.ask),callback:function ($$v) {_vm.$set(_vm.formAiAsk, \"ask\", $$v)},expression:\"formAiAsk.ask\"}})],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.aiAskDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.ask}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{staticStyle:{\"max-height\":\"100%\"},attrs:{\"title\":\"历史信息\",\"visible\":_vm.aiAnswerDialogVisible,\"width\":\"40%\",\"center\":\"\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.aiAnswerDialogVisible=$event}}},[_c('div',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.aiAnswer))]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.aiAnswerDialogVisible = false}}},[_vm._v(\"退出提问\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.aiAnalyze('other')}}},[_vm._v(\"继续提问\")])],1)]),_c('el-dialog',{staticStyle:{\"max-height\":\"100%\"},attrs:{\"title\":_vm.question,\"visible\":_vm.historyDialogVisible,\"width\":\"30%\",\"center\":\"\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.historyDialogVisible=$event}}},[_c('div',[_c('div',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_c('span',[_vm._v(\" 充值：\")]),_vm._l((_vm.daily_recharge),function(item){return _c('div',{key:item},[_vm._v(\" \"+_vm._s(item)+\" \")])})],2),_c('div',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_c('span',[_vm._v(\" 消耗：\")]),_vm._l((_vm.daily_cost),function(item){return _c('div',{key:item},[_vm._v(\" \"+_vm._s(item)+\" \")])})],2)])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div style=\"height:100%\">\r\n        <div style=\"margin-bottom: 5px;\">\r\n            <el-form ref=\"form1\" :model=\"form\" label-width=\"75px\">\r\n                <el-col :span=\"4\">\r\n                    <el-form-item label=\"创建起止日期\" prop=\"creater\">\r\n                        <el-date-picker type=\"date\" placeholder=\"起始时间\" v-model=\"form1.date1\" value-format=\"yyyy-MM-dd\" style=\"width: 140px;\"></el-date-picker>-\r\n                        <el-date-picker type=\"date\" placeholder=\"结束时间\" v-model=\"form1.date2\" value-format=\"yyyy-MM-dd\" style=\"width: 140px;\"></el-date-picker>\r\n                    </el-form-item>\r\n                </el-col>\r\n\r\n                <el-col :span=\"3\">\r\n                    <el-form-item v-show=\"user.roleId!=2\" label=\"记录人\" prop=\"creater\">\r\n                        <el-select v-model=\"form1.creater\" filterable clearable multiple collapse-tags placeholder=\"请选择\" style=\"width: 170px;\" @keyup.enter.native=\"loadPost\">\r\n                            <el-option\r\n                                    v-for=\"item in users\" :key=\"item\" :label=\"item\" :value=\"item\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                </el-col>\r\n            </el-form>\r\n\r\n            <el-button type=\"primary\" style=\"margin-left: 5px;\" @click=\"loadPost\">查询</el-button>\r\n            <el-button type=\"success\" @click=\"resetParam\">重置</el-button>\r\n            <el-button type=\"primary\" style=\"margin-left: 5px;\" @click=\"aiAnalyze('first')\" v-show=\"user.roleId!=2\">AI分析</el-button>\r\n        </div>\r\n        <el-table :data=\"tableData\" :summary-method=\"getSummaries\"  show-summary border style=\"overflow: auto; \" max-height=\"calc(100% - 200px)\">\r\n            <el-table-column type=\"index\" label=\"序号\" width=\"50\" fixed=\"left\"></el-table-column>\r\n            <el-table-column prop=\"date\" label=\"创建日期\" width=\"100\" fixed=\"left\"></el-table-column>\r\n            <el-table-column prop=\"update_date\" label=\"更新日期\" width=\"100\" fixed=\"left\"></el-table-column>\r\n            <el-table-column prop=\"advertiser_id\" label=\"创量账户ID\" width=\"150\" fixed=\"left\"></el-table-column>\r\n            <el-table-column prop=\"media_account_name\" label=\"推广链名称\" width=\"500\" fixed=\"left\"></el-table-column>\r\n            <el-table-column prop=\"fund_cost\" label=\"今日消耗\" width=\"100\" fixed=\"left\"></el-table-column>\r\n            <el-table-column prop=\"fund_recharge\" label=\"今日充值\" width=\"100\" fixed=\"left\"></el-table-column>\r\n            <el-table-column prop=\"stat_cost\" label=\"总消耗\" width=\"100\" fixed=\"left\"></el-table-column>\r\n            <el-table-column prop=\"stat_pay_amount\" label=\"总充值\" width=\"100\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"pay_amount_roi\" label=\"ROI\" width=\"100\" fixed=\"left\"></el-table-column>\r\n            <el-table-column prop=\"media_source\" label=\"小程序\" width=\"100\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"creater\" label=\"创建人\" width=\"100\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"operate\" label=\"操作\" width=\"200\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button size=\"small\" type=\"success\" @click=\"history(scope.row)\">历史</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"pageNum\"\r\n                :page-sizes=\"[10, 20, 50, 1000]\"\r\n                :page-size=\"pageSize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"total\">\r\n        </el-pagination>\r\n\r\n        <el-dialog\r\n                title=\"提问\"\r\n                :visible.sync=\"aiAskDialogVisible\"\r\n                width=\"31%\"\r\n                center :close-on-click-modal=\"false\">\r\n\r\n            <el-form ref=\"formAiAskRef\" :rules=\"rules\" :model=\"formAiAsk\" label-width=\"140px\">\r\n                <el-col :span=\"12\">\r\n                    <el-form-item label=\"请输入问题:\" prop=\"ask\">\r\n                        <el-input v-model=\"formAiAsk.ask\" :precision=\"2\" style=\"width: 400px;\"></el-input>\r\n                    </el-form-item>\r\n                </el-col>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"aiAskDialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"ask\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n        <el-dialog\r\n                title=\"历史信息\"\r\n                :visible.sync=\"aiAnswerDialogVisible\"\r\n                width = \"40%\"\r\n                style=\" max-height: 100%;\"\r\n                center :close-on-click-modal=\"false\" >\r\n            <div style=\"white-space: pre-wrap;\">{{aiAnswer}}</div>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"aiAnswerDialogVisible = false\">退出提问</el-button>\r\n                <el-button type=\"primary\" @click=\"aiAnalyze('other')\">继续提问</el-button>\r\n            </span>\r\n        </el-dialog>\r\n        <el-dialog\r\n                :title=\"question\"\r\n                :visible.sync=\"historyDialogVisible\"\r\n                width = \"30%\"\r\n                style=\" max-height: 100%;\"\r\n                center :close-on-click-modal=\"false\" >\r\n            <div>\r\n                <div style=\"white-space: pre-wrap;\"> <span> 充值：</span>\r\n                    <div  v-for=\"item in daily_recharge\" :key=\"item\">\r\n                        {{item}}\r\n                    </div>\r\n\r\n                </div>\r\n                <div style=\"white-space: pre-wrap;\"><span> 消耗：</span>\r\n                    <div  v-for=\"item in daily_cost\" :key=\"item\">\r\n                        {{item}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"AdvertiserManage\",\r\n        data() {\r\n            return {\r\n                user : JSON.parse(sessionStorage.getItem('CurUser')),\r\n                question:'问题',\r\n                formAiAsk:{ask:''},\r\n                aiAskDialogVisible:false,\r\n                aiAnswerDialogVisible:false,\r\n                historyDialogVisible:false,\r\n                daily_cost:'',\r\n                daily_recharge:'',\r\n                aiAnswer:'',\r\n                tableData: [],\r\n                pageSize:10,\r\n                pageNum:1,\r\n                total:0,\r\n                name:'',\r\n                centerDialogVisible:false,\r\n                form:{\r\n                    id:'',\r\n                    date:'',\r\n                    update_date:'',\r\n                    advertiser_id: 0,\r\n                    media_advertiser_nick: 0,\r\n                    media_account_id: 0,\r\n                    fund_cost: 0,\r\n                    fund_recharge: 0,\r\n                    stat_cost: 0,\r\n                    pay_amount_roi: 0,\r\n                    stat_pay_amount: 0,\r\n                    fanqiefufeiroi: 0,\r\n                    media_account_name: 0,\r\n                    media_source: 0,\r\n                    creater: 0\r\n                },\r\n                form1:{\r\n                    date1:'',\r\n                    date2:'',\r\n                    creater:[JSON.parse(sessionStorage.getItem('CurUser')).name]\r\n                },\r\n                rules: {\r\n                    date: [\r\n                        {required: true, trigger: 'blur'},\r\n                    ]\r\n                },\r\n                users:[],\r\n                roles:[],\r\n                modRow: {}\r\n            }\r\n        },\r\n        methods:{\r\n            history(row) {\r\n                this.historyDialogVisible = true;\r\n                this.daily_recharge = row.daily_recharge\r\n                this.daily_cost = row.daily_cost\r\n                console.log(row.daily_recharge)\r\n                console.log(row.daily_cost)\r\n            },\r\n            getInputInfo() {\r\n                this.$axios.get(this.$httpUrl+'/user/inputInfo').then(res=>res.data).then(res=>{\r\n                    if(res.code==200){\r\n                        this.users = res.data.user;\r\n                        this.roles = res.data.role;\r\n                    }else{\r\n                        this.$message({\r\n                            message: '操作失败！',\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n\r\n                })\r\n            },\r\n            ask() {\r\n                this.question = '问题: ' + this.formAiAsk.ask;\r\n                const data = {\r\n                    date1: this.form1.date1,\r\n                    date2:this.form1.date2,\r\n                    creater:this.form1.creater,\r\n                    asker: this.user.name,\r\n                    ask: this.formAiAsk.ask,\r\n                    tableName: 'advertiser',\r\n                    role:this.form1.role\r\n                }\r\n                const loading = this.$loading({\r\n                    lock: true,\r\n                    text: 'AI正在思考，清稍等！',\r\n                    spinner: 'el-icon-loading',\r\n                    background: 'rgba(0, 0, 0, 0.7)'\r\n                });\r\n                this.$axios.post(this.$httpUrl+'/deepseek/ask', data).then(res=>res.data).then(res=>{\r\n                    if(res.code==200){\r\n                        this.aiAskDialogVisible = false;\r\n                        this.aiAnswerDialogVisible = true;\r\n                        this.aiAnswer = res.data;\r\n                        loading.close();\r\n                    }else{\r\n                        this.$message({\r\n                            message: '操作失败！',\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n                })\r\n            },\r\n            aiAnalyze(time) {\r\n                this.formAiAsk.ask= '';\r\n                this.aiAnswerDialogVisible = false\r\n                this.aiAnswer = '';\r\n                this.aiAskDialogVisible = true;\r\n\r\n                if (time == 'first') {\r\n                    this.$axios.post(this.$httpUrl+'/deepseek/clearAsk', {\r\n                        asker: this.user.name,\r\n                        tableName: 'advertiser'\r\n                    })\r\n                }\r\n            },\r\n            getSummaries(param){\r\n                const { columns, data } = param;\r\n                const sums = [];\r\n                var fund_costSum = 0;\r\n                var stat_costSum = 0;\r\n                for (var val of data) {\r\n                    fund_costSum += val.fund_cost;\r\n                    stat_costSum += val.stat_cos;\r\n                }\r\n                columns.forEach((column, index) => {\r\n                    if (this.user.roleId==2) {\r\n                        if (index === 0) {\r\n                            sums[index] = '合计';\r\n                        } else if (index === 4) {\r\n                            sums[index] = this.fixed2(fund_costSum);\r\n                        } else if (index === 6) {\r\n                            sums[index] = this.fixed2(stat_costSum);\r\n                        }\r\n                    }\r\n                });\r\n                return sums;\r\n            },\r\n            fixed (val) {\r\n                return Number(val).toFixed(4);\r\n            },\r\n            fixed2 (val) {\r\n                return Number(val).toFixed(2);\r\n            },\r\n            resetForm() {\r\n                this.$refs.form.resetFields();\r\n                this.form.id = '';\r\n            },\r\n            // del(id){\r\n            //     this.$axios.get(this.$httpUrl+'/advertiser/del?id='+id).then(res=>res.data).then(res=>{\r\n            //         if(res.code==200){\r\n            //\r\n            //             this.$message({\r\n            //                 message: '操作成功！',\r\n            //                 type: 'success'\r\n            //             });\r\n            //             this.loadPost()\r\n            //         }else{\r\n            //             this.$message({\r\n            //                 message: '操作失败！',\r\n            //                 type: 'error'\r\n            //             });\r\n            //         }\r\n            //     })\r\n            // },\r\n\r\n            exportExcel(){\r\n                this.form.time=this.currentDate();\r\n                this.form.creater = this.user.name;\r\n                this.$confirm('确定导出？','提示',{\r\n                    confirmButtonText:'确定',\r\n                    cancelButtonText:'取消',\r\n                    type:'warning'\r\n                }).then(() => {\r\n                    this.$axios.request({\r\n                        url:this.$httpUrl+'/advertiser/export',\r\n                        method:'post',\r\n                        data: {\r\n                            date1:this.form1.date1,\r\n                            date2:this.form1.date2,\r\n                            location:this.form1.location,\r\n                            content:this.form1.content,\r\n                            hiredate1:this.form1.hiredate1,\r\n                            hiredate2:this.form1.hiredate2,\r\n                            creater:this.form1.creater,\r\n                            role: this.form1.role\r\n                        },\r\n                        responseType:'blob'\r\n                    }).then(res=>{\r\n                        const url = window.URL.createObjectURL(new Blob([res.data]));\r\n                        const link = document.createElement('a');\r\n                        link.href = url;\r\n                        link.setAttribute('download','投放记录' + new Date().getTime() + '.xlsx');\r\n                        document.body.appendChild(link);\r\n                        link.click();\r\n                        window.URL.revokeObjectURL(URL);\r\n                    }).catch(() => {\r\n                        this.$message({\r\n                            message: '下载失败！',\r\n                            type: 'error'\r\n                        });\r\n                    })\r\n                })\r\n            },\r\n            currentDate(){\r\n                var d = new Date();\r\n                var year = d.getFullYear();\r\n                var month = d.getMonth();\r\n                month = month + 1 > 12 ? 1 : month + 1;\r\n                month =  month > 9 ? month : \"0\" +month.toString();\r\n                var day = d.getDate();\r\n                var hour = d.getHours();\r\n                hour = hour > 9 ? hour : \"0\" + hour.toString();\r\n                var minute = d.getMinutes();\r\n                minute = minute > 9 ? minute : \"0\" + minute.toString();\r\n                var second = d.getSeconds();\r\n                return `${year}-${month}-${day} ${hour}:${minute}:${second}`;\r\n            },\r\n\r\n            handleSizeChange(val) {\r\n                this.pageNum=1\r\n                this.pageSize=val\r\n                this.loadPost()\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.pageNum=val;\r\n                this.loadPost();\r\n            },\r\n            resetParam(){\r\n                this.form1.date1='';\r\n                this.form1.date2='';\r\n                this.form1.location='';\r\n                this.form1.content='';\r\n                this.form1.hiredate1='';\r\n                this.form1.hiredate2='';\r\n                if (this.user.roleId!=2){\r\n                    this.form1.creater=[];\r\n                } else {\r\n                    this.form1.creater=[this.user.name];\r\n                }\r\n            },\r\n            loadPost(){\r\n                this.$axios.post(this.$httpUrl+'/advertiser/listPage',{\r\n                    pageSize:this.pageSize,\r\n                    pageNum:this.pageNum,\r\n                    param:{\r\n                        date1:this.form1.date1,\r\n                        date2:this.form1.date2,\r\n                        location:this.form1.location,\r\n                        content:this.form1.content,\r\n                        hiredate1:this.form1.hiredate1,\r\n                        hiredate2:this.form1.hiredate2,\r\n                        creater:this.form1.creater,\r\n                        role: this.form1.role\r\n                    }\r\n                }).then(res=>res.data).then(res=>{\r\n                    if(res.code==200){\r\n                        this.tableData=res.data\r\n                        this.total=res.total\r\n                    }else{\r\n                        alert('获取数据失败')\r\n                    }\r\n\r\n                })\r\n            }\r\n        },\r\n        beforeMount() {\r\n            if (this.user.roleId!=2){\r\n                this.form1.creater=[];\r\n            } else {\r\n                this.form1.creater=[JSON.parse(sessionStorage.getItem('CurUser')).name];\r\n            }\r\n            this.loadPost()\r\n            this.getInputInfo();\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvertiserManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvertiserManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdvertiserManage.vue?vue&type=template&id=8cca2fe0&scoped=true&\"\nimport script from \"./AdvertiserManage.vue?vue&type=script&lang=js&\"\nexport * from \"./AdvertiserManage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8cca2fe0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}