{"version":3,"sources":["webpack:///./src/components/playlet/PlayletManage.vue","webpack:///src/components/playlet/PlayletManage.vue","webpack:///./src/components/playlet/PlayletManage.vue?bd6d","webpack:///./src/components/playlet/PlayletManage.vue?eacd"],"names":["render","_vm","this","_c","_self","staticStyle","ref","attrs","form","model","value","form1","date1","callback","$$v","$set","expression","_v","date2","nativeOn","$event","type","indexOf","_k","keyCode","key","loadPost","apply","arguments","playlet_name","playlet_id","on","resetParam","add","directives","name","rawName","user","roleId","exportExcel","tableData","scopedSlots","_u","fn","scope","promotion","row","del","id","slot","pageNum","pageSize","total","handleSizeChange","handleCurrentChange","centerDialogVisible","rules","staticClass","save","promotionDialogVisible","form2","distributorChange","distributor","_l","distributors","item","distributorIdChange","distributor_id","distributor_ids","adCallbackConfigId","adCallbackConfigList","config_id","config_name","recharge_template_id","recharge_templates","recharge_template_name","media_source","mini_program_name","label","labels","remark","cancel","doPromotion","staticRenderFns","data","required","trigger","modRow","methods","message","distributorId","fixed","fixed2","resetForm","secret_key","creater","mod","doSave","confirmButtonText","cancelButtonText","then","url","method","location","content","hiredate1","hiredate2","responseType","res","link","document","window","catch","currentDate","month","hour","minute","second","doMod","param","alert","beforeMount","component"],"mappings":"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AJ,uBAEAL,gBACAI,mBACAM,sBACAJ,wBACAS,yBACAvB,OACA1B,YACA,CAAAuD,YAAAC,kBAGAC,YAGAC,SACA3B,qBACA,yEAAAC,gBAAA,yBACA,YACA,4BAEA,eACA2B,gBACApE,kBAMA6C,uBACA,gEAAAwB,kBAAA,yBACA,aACA,4CACA,sDACA,wCACA,iDACA,uDAEA,eACAD,gBACApE,kBAMAsE,SACA,6BAEAC,UACA,6BAEAC,YACA,8BACA,iBAEA9C,OACA,6EACA,aAEA,eACA0C,gBACApE,iBAEA,iBAEA,eACAoE,gBACApE,kBAMAwB,aACA,+BACA,uCACA,mCACA,yCAEAoC,SACA,+BACA,gCAEAC,cACA,SACApD,iCACAD,qCACAsC,yCACAS,qCACAkB,iCACAhB,uBACAiB,uBACAf,yBACAP,qDACAJ,kDAEA,kFACA,aACA,eACAoB,8EACApE,iBAEA,+BACA,gCAEA,eACAoE,gBACApE,kBAKA2E,OACA,4BACA,oBAEA,kBACA,sCACA,kCACA,wCAEA,eAEA/D,MACA,4BACA,oBACA,oBAKAgE,SACA,0FACA,kBACA,4CACA,mFACA,aACA,eACAR,gBACApE,iBAEA,4BACA,gBACA,kBAEA,eACAoE,gBACApE,kBAKA,eACAoE,oCACApE,kBAMAkB,cACA,kCACA,iCACA,4BACA2D,uBACAC,sBACA9E,iBACA+E,KAAA,KACA,qBACAC,oCACAC,cACAlB,MACAxE,uBACAM,uBACAqF,6BACAC,2BACAC,+BACAC,+BACAX,4BAEAY,sBACAP,KAAAQ,IACA,uDACA,8BACAC,SACAA,+DACAC,6BACAD,UACAE,kCACAC,MAAA,KACA,eACAvB,gBACApE,oBAKA4F,cACA,eACA,kBACA,eACAC,eACAA,yBACA,kBACA,eACAC,yBACA,qBACAC,yBACA,qBAEA,OADAC,yBACA,iCAEAC,QACA,kCACA,sCACA,qFACA,aAEA,eACA7B,gBACApE,iBAEA,4BACA,gBACA,kBAEA,eACAoE,gBACApE,kBAKAqC,OACA,6BACA,MAOA,SANA,aACA,aAEA,iBAQAL,oBACA,eACA,gBACA,iBAEAC,uBACA,eACA,iBAEAtB,aACA,oBACA,oBACA,uBACA,sBACA,wBACA,wBACA,oBACA,sBAEA,mCAGAN,WACA,oDACAyB,uBACAD,qBACAqE,OACA3G,uBACAM,uBACAqF,6BACAC,2BACAC,+BACAC,+BACAX,8BAEAK,KAAAQ,WAAAR,KAAAQ,IACA,aACA,sBACA,oBAEAY,oBAMAC,cACA,oBACA,sBAEA,sEAEA,kBCngBsT,I,YCOlTC,EAAY,eACd,EACA1H,EACAmF,GACA,EACA,KACA,WACA,MAIa,aAAAuC,E","file":"js/chunk-2d207707.74d46f56.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"height\":\"100%\"}},[_c('div',{staticStyle:{\"margin-bottom\":\"5px\"}},[_c('el-form',{ref:\"form1\",attrs:{\"model\":_vm.form,\"label-width\":\"75px\"}},[_c('el-col',{attrs:{\"span\":5}},[_c('el-form-item',{attrs:{\"label\":\"起止日期\",\"prop\":\"creater\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"140px\"},attrs:{\"type\":\"date\",\"placeholder\":\"起始时间\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.form1.date1),callback:function ($$v) {_vm.$set(_vm.form1, \"date1\", $$v)},expression:\"form1.date1\"}}),_vm._v(\"- \"),_c('el-date-picker',{staticStyle:{\"width\":\"140px\"},attrs:{\"type\":\"date\",\"placeholder\":\"结束时间\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.form1.date2),callback:function ($$v) {_vm.$set(_vm.form1, \"date2\", $$v)},expression:\"form1.date2\"}})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-form-item',{attrs:{\"label\":\"短剧名称\",\"prop\":\"creater\"}},[_c('el-input',{staticStyle:{\"width\":\"170px\"},attrs:{\"placeholder\":\"短剧名称\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.loadPost.apply(null, arguments)}},model:{value:(_vm.form1.playlet_name),callback:function ($$v) {_vm.$set(_vm.form1, \"playlet_name\", $$v)},expression:\"form1.playlet_name\"}})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-form-item',{attrs:{\"label\":\"短剧ID\",\"prop\":\"creater\"}},[_c('el-input',{staticStyle:{\"width\":\"170px\"},attrs:{\"placeholder\":\"短剧ID\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.loadPost.apply(null, arguments)}},model:{value:(_vm.form1.playlet_id),callback:function ($$v) {_vm.$set(_vm.form1, \"playlet_id\", $$v)},expression:\"form1.playlet_id\"}})],1)],1)],1),_c('el-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.loadPost}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.resetParam}},[_vm._v(\"重置\")]),_c('el-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"新增\")]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.user.roleId!=2),expression:\"user.roleId!=2\"}],staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.exportExcel}},[_vm._v(\"导出\")])],1),_c('el-table',{staticStyle:{\"overflow\":\"auto\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"max-height\":\"calc(100% - 200px)\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\",\"fixed\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"playlet_name\",\"label\":\"短剧名称\",\"width\":\"200\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"playlet_id\",\"label\":\"短剧ID\",\"width\":\"170\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"author\",\"label\":\"作者\",\"width\":\"100\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"category\",\"label\":\"主分类\",\"width\":\"100\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"abstract_info\",\"label\":\"简介\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"chapter_amount\",\"label\":\"集数\",\"width\":\"100\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"free_chapter_count\",\"label\":\"免费集数\",\"width\":\"1 0\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"单章价格\",\"width\":\"100\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"release_time\",\"label\":\"上线时间\",\"width\":\"150\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"promotion_times\",\"label\":\"推广次数\",\"width\":\"1 0\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"operate\",\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.promotion(scope.row)}}},[_vm._v(\"推广\")]),_c('el-popconfirm',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"title\":\"确定删除吗？\"},on:{\"confirm\":function($event){return _vm.del(scope.row.id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"small\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"删除\")])],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.pageNum,\"page-sizes\":[10, 20, 50, 1000],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.centerDialogVisible,\"width\":\"500px\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.centerDialogVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"100px\"}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"短剧ID\",\"prop\":\"playlet_id\"}},[_c('el-input',{model:{value:(_vm.form.playlet_id),callback:function ($$v) {_vm.$set(_vm.form, \"playlet_id\", $$v)},expression:\"form.playlet_id\"}})],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.centerDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"推广\",\"visible\":_vm.promotionDialogVisible,\"width\":\"500px\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.promotionDialogVisible=$event}}},[_c('el-form',{ref:\"form2\",attrs:{\"model\":_vm.form2,\"label-width\":\"100px\"}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"短剧名称\",\"prop\":\"playlet_name\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"disabled\":true},model:{value:(_vm.form2.playlet_name),callback:function ($$v) {_vm.$set(_vm.form2, \"playlet_name\", $$v)},expression:\"form2.playlet_name\"}})],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"短剧ID\",\"prop\":\"playlet_id\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"disabled\":true},model:{value:(_vm.form2.playlet_id),callback:function ($$v) {_vm.$set(_vm.form2, \"playlet_id\", $$v)},expression:\"form2.playlet_id\"}})],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"分销商\",\"prop\":\"playlet_name\"}},[_c('el-select',{staticStyle:{\"width\":\"300px\"},attrs:{\"filterable\":\"\",\"placeholder\":\"请选择分销商!\"},on:{\"change\":_vm.distributorChange},model:{value:(_vm.form2.distributor),callback:function ($$v) {_vm.$set(_vm.form2, \"distributor\", $$v)},expression:\"form2.distributor\"}},_vm._l((_vm.distributors),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"分销商ID\",\"prop\":\"playlet_name\"}},[_c('el-select',{staticStyle:{\"width\":\"300px\"},attrs:{\"filterable\":\"\",\"placeholder\":\"请选择分销商ID!\"},on:{\"change\":_vm.distributorIdChange},model:{value:(_vm.form2.distributor_id),callback:function ($$v) {_vm.$set(_vm.form2, \"distributor_id\", $$v)},expression:\"form2.distributor_id\"}},_vm._l((_vm.distributor_ids),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"充值模版\",\"prop\":\"recharge_template_id\"}},[_c('el-select',{staticStyle:{\"width\":\"300px\"},attrs:{\"filterable\":\"\",\"placeholder\":\"请选择广告回传!\"},model:{value:(_vm.form2.adCallbackConfigId),callback:function ($$v) {_vm.$set(_vm.form2, \"adCallbackConfigId\", $$v)},expression:\"form2.adCallbackConfigId\"}},_vm._l((_vm.adCallbackConfigList),function(item){return _c('el-option',{key:item.config_id,attrs:{\"label\":item.config_name,\"value\":item.config_id}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"充值模版\",\"prop\":\"recharge_template_id\"}},[_c('el-select',{staticStyle:{\"width\":\"300px\"},attrs:{\"filterable\":\"\",\"placeholder\":\"请选择充值模版!\"},model:{value:(_vm.form2.recharge_template_id),callback:function ($$v) {_vm.$set(_vm.form2, \"recharge_template_id\", $$v)},expression:\"form2.recharge_template_id\"}},_vm._l((_vm.recharge_templates),function(item){return _c('el-option',{key:item.recharge_template_id,attrs:{\"label\":item.recharge_template_name,\"value\":item.recharge_template_id}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"媒体类型\",\"prop\":\"mini_program_name\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"disabled\":true},model:{value:(_vm.form2.media_source),callback:function ($$v) {_vm.$set(_vm.form2, \"media_source\", $$v)},expression:\"form2.media_source\"}})],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"小程序\",\"prop\":\"mini_program_name\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"disabled\":true},model:{value:(_vm.form2.mini_program_name),callback:function ($$v) {_vm.$set(_vm.form2, \"mini_program_name\", $$v)},expression:\"form2.mini_program_name\"}})],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"标签\",\"prop\":\"label\"}},[_c('el-select',{staticStyle:{\"width\":\"300px\"},attrs:{\"filterable\":\"\",\"placeholder\":\"请选择标签!\"},model:{value:(_vm.form2.label),callback:function ($$v) {_vm.$set(_vm.form2, \"label\", $$v)},expression:\"form2.label\"}},_vm._l((_vm.labels),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"mini_program_name\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.form2.remark),callback:function ($$v) {_vm.$set(_vm.form2, \"remark\", $$v)},expression:\"form2.remark\"}})],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.doPromotion}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div style=\"height:100%\">\r\n        <div style=\"margin-bottom: 5px;\">\r\n            <el-form ref=\"form1\" :model=\"form\" label-width=\"75px\">\r\n                <el-col :span=\"5\">\r\n                    <el-form-item label=\"起止日期\" prop=\"creater\">\r\n                        <el-date-picker type=\"date\" placeholder=\"起始时间\" v-model=\"form1.date1\" value-format=\"yyyy-MM-dd\" style=\"width: 140px;\"></el-date-picker>-\r\n                        <el-date-picker type=\"date\" placeholder=\"结束时间\" v-model=\"form1.date2\" value-format=\"yyyy-MM-dd\" style=\"width: 140px;\"></el-date-picker>\r\n                    </el-form-item>\r\n                </el-col>\r\n\r\n                <el-col :span=\"4\">\r\n                    <el-form-item label=\"短剧名称\" prop=\"creater\">\r\n                        <el-input v-model=\"form1.playlet_name\" placeholder=\"短剧名称\" style=\"width: 170px;\"\r\n                                  @keyup.enter.native=\"loadPost\" clearable ></el-input>\r\n                    </el-form-item>\r\n                </el-col>\r\n\r\n                <el-col :span=\"4\">\r\n                    <el-form-item label=\"短剧ID\" prop=\"creater\">\r\n                        <el-input v-model=\"form1.playlet_id\" placeholder=\"短剧ID\" style=\"width: 170px;\"\r\n                                  @keyup.enter.native=\"loadPost\" clearable ></el-input>\r\n                    </el-form-item>\r\n                </el-col>\r\n            </el-form>\r\n\r\n\r\n            <el-button type=\"primary\" style=\"margin-left: 5px;\" @click=\"loadPost\">查询</el-button>\r\n            <el-button type=\"success\" @click=\"resetParam\">重置</el-button>\r\n            <el-button type=\"primary\" style=\"margin-left: 5px;\" @click=\"add\">新增</el-button>\r\n            <el-button type=\"primary\" style=\"margin-left: 5px;\" @click=\"exportExcel\" v-show=\"user.roleId!=2\">导出</el-button>\r\n        </div>\r\n        <el-table :data=\"tableData\"\r\n                  border style=\"overflow: auto; \" max-height=\"calc(100% - 200px)\">\r\n            <el-table-column type=\"index\" label=\"序号\" width=\"50\" fixed=\"left\"></el-table-column>\r\n            <el-table-column prop=\"playlet_name\" label=\"短剧名称\" width=\"200\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"playlet_id\" label=\"短剧ID\" width=\"170\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"author\" label=\"作者\" width=\"100\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"category\" label=\"主分类\" width=\"100\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"abstract_info\" label=\"简介\"  :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"chapter_amount\" label=\"集数\" width=\"100\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"free_chapter_count\" label=\"免费集数\" width=\"1 0\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"price\" label=\"单章价格\" width=\"100\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"release_time\" label=\"上线时间\" width=\"150\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"promotion_times\" label=\"推广次数\" width=\"1 0\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"operate\" label=\"操作\" width=\"200\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button size=\"small\" type=\"success\" @click=\"promotion(scope.row)\">推广</el-button>\r\n                    <el-popconfirm title=\"确定删除吗？\" @confirm=\"del(scope.row.id)\" style=\"margin-left: 5px;\">\r\n                        <el-button slot=\"reference\" size=\"small\" type=\"danger\" >删除</el-button>\r\n                    </el-popconfirm>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"pageNum\"\r\n                :page-sizes=\"[10, 20, 50, 1000]\"\r\n                :page-size=\"pageSize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"total\">\r\n        </el-pagination>\r\n        <el-dialog\r\n                title=\"提示\"\r\n                :visible.sync=\"centerDialogVisible\"\r\n                width=\"500px\"\r\n                center>\r\n\r\n            <el-form ref=\"form\" :rules=\"rules\" :model=\"form\" label-width=\"100px\">\r\n                <el-col :span=\"24\">\r\n                    <el-form-item label=\"短剧ID\" prop=\"playlet_id\">\r\n                        <el-input v-model=\"form.playlet_id\" ></el-input>\r\n                    </el-form-item>\r\n                </el-col>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"centerDialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"save\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n        <el-dialog\r\n                title=\"推广\"\r\n                :visible.sync=\"promotionDialogVisible\"\r\n                width=\"500px\"\r\n                center>\r\n\r\n            <el-form ref=\"form2\" :model=\"form2\" label-width=\"100px\">\r\n                <el-col :span=\"24\">\r\n                    <el-form-item label=\"短剧名称\" prop=\"playlet_name\">\r\n                        <el-input v-model=\"form2.playlet_name\" :disabled=\"true\" style=\"width: 300px;\"></el-input>\r\n                    </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"24\">\r\n                    <el-form-item label=\"短剧ID\" prop=\"playlet_id\" >\r\n                        <el-input v-model=\"form2.playlet_id\" :disabled=\"true\" style=\"width: 300px;\"></el-input>\r\n                    </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"24\">\r\n                    <el-form-item label=\"分销商\" prop=\"playlet_name\">\r\n                        <el-select v-model=\"form2.distributor\" filterable placeholder=\"请选择分销商!\" style=\"width: 300px;\"\r\n                                    @change=\"distributorChange\">\r\n                            <el-option\r\n                                    v-for=\"item in distributors\"\r\n                                    :key=\"item\"\r\n                                    :label=\"item\"\r\n                                    :value=\"item\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"24\">\r\n                    <el-form-item label=\"分销商ID\" prop=\"playlet_name\">\r\n                        <el-select v-model=\"form2.distributor_id\" filterable placeholder=\"请选择分销商ID!\" style=\"width: 300px;\"\r\n                                    @change=\"distributorIdChange\">\r\n                            <el-option\r\n                                    v-for=\"item in distributor_ids\"\r\n                                    :key=\"item\"\r\n                                    :label=\"item\"\r\n                                    :value=\"item\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"24\">\r\n                    <el-form-item label=\"充值模版\" prop=\"recharge_template_id\">\r\n                        <el-select v-model=\"form2.adCallbackConfigId\" filterable placeholder=\"请选择广告回传!\" style=\"width: 300px;\">\r\n                            <el-option\r\n                                    v-for=\"item in adCallbackConfigList\"\r\n                                    :key=\"item.config_id\"\r\n                                    :label=\"item.config_name\"\r\n                                    :value=\"item.config_id\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"24\">\r\n                    <el-form-item label=\"充值模版\" prop=\"recharge_template_id\">\r\n                        <el-select v-model=\"form2.recharge_template_id\" filterable placeholder=\"请选择充值模版!\" style=\"width: 300px;\">\r\n                            <el-option\r\n                                    v-for=\"item in recharge_templates\"\r\n                                    :key=\"item.recharge_template_id\"\r\n                                    :label=\"item.recharge_template_name\"\r\n                                    :value=\"item.recharge_template_id\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"24\">\r\n                    <el-form-item label=\"媒体类型\" prop=\"mini_program_name\">\r\n                        <el-input v-model=\"form2.media_source\" :disabled=\"true\" style=\"width: 300px;\"></el-input>\r\n                    </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"24\">\r\n                    <el-form-item label=\"小程序\" prop=\"mini_program_name\">\r\n                        <el-input v-model=\"form2.mini_program_name\" :disabled=\"true\" style=\"width: 300px;\"></el-input>\r\n                    </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"24\">\r\n                    <el-form-item label=\"标签\" prop=\"label\">\r\n                        <el-select v-model=\"form2.label\" filterable placeholder=\"请选择标签!\" style=\"width: 300px;\">\r\n                            <el-option\r\n                                    v-for=\"item in labels\"\r\n                                    :key=\"item\"\r\n                                    :label=\"item\"\r\n                                    :value=\"item\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"24\">\r\n                    <el-form-item label=\"备注\" prop=\"mini_program_name\">\r\n                        <el-input v-model=\"form2.remark\" style=\"width: 300px;\"></el-input>\r\n                    </el-form-item>\r\n                </el-col>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"cancel\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"doPromotion\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"PlayletManage\",\r\n        data() {\r\n            return {\r\n                user : JSON.parse(sessionStorage.getItem('CurUser')),\r\n                tableData: [],\r\n                pageSize:10,\r\n                pageNum:1,\r\n                total:0,\r\n                name:'',\r\n                centerDialogVisible:false,\r\n                promotionDialogVisible:false,\r\n                form: {\r\n                    playlet_id:'',\r\n                },\r\n                form1:{\r\n                    date1:'',\r\n                    date2:'',\r\n                    playlet_name:'',\r\n                    playlet_id:'',\r\n                },\r\n                form2:{\r\n                    playlet_name:'',\r\n                    playlet_id:'',\r\n                    distributor:'',\r\n                    distributor_id:'',\r\n                    mini_program_name:'',\r\n                    label: '',\r\n                    remark: '',\r\n                    recharge_template_id: '',\r\n                    adCallbackConfigId:''\r\n                },\r\n                distributors:[],\r\n                distributor_ids:[],\r\n                recharge_templates:[],\r\n                adCallbackConfigList:[],\r\n                labels: ['大额', '小额', '不涉及'],\r\n                rules: {\r\n                    playlet_id: [\r\n                        {required: true, trigger: 'blur'},\r\n                    ]\r\n                },\r\n                modRow: {}\r\n            }\r\n        },\r\n        methods:{\r\n            distributorChange(row){\r\n                this.$axios.post(this.$httpUrl+'/playlet/getdistributorIdBydistributor',{distributor: row}).then(res=>res.data).then(res=>{\r\n                    if(res.code==200){\r\n                        this.distributor_ids = res.data;\r\n                    }else{\r\n                        this.$message({\r\n                            message: '操作失败！',\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n\r\n                })\r\n            },\r\n            distributorIdChange(row){\r\n                this.$axios.post(this.$httpUrl+'/playlet/getdistributorIdInfo', {distributorId: row}).then(res=>res.data).then(res=>{\r\n                    if(res.code==200){\r\n                        this.form2.media_source = res.data.media_source;\r\n                        this.form2.mini_program_name = res.data.mini_program_name;\r\n                        this.form2.secret_key = res.data.secret_key;\r\n                        this.recharge_templates = res.data.distributorIdInfo;\r\n                        this.adCallbackConfigList = res.data.adCallbackConfigInfo;\r\n                    }else{\r\n                        this.$message({\r\n                            message: '操作失败！',\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n\r\n                })\r\n            },\r\n            fixed (val) {\r\n                return Number(val).toFixed(4);\r\n            },\r\n            fixed2 (val) {\r\n                return Number(val).toFixed(2);\r\n            },\r\n            resetForm() {\r\n                this.$refs.form.resetFields();\r\n                this.form.id = '';\r\n            },\r\n            del(id){\r\n                this.$axios.get(this.$httpUrl+'/playlet/del?id='+id).then(res=>res.data).then(res=>{\r\n                    if(res.code==200){\r\n\r\n                        this.$message({\r\n                            message: '操作成功！',\r\n                            type: 'success'\r\n                        });\r\n                        this.loadPost()\r\n                    }else{\r\n                        this.$message({\r\n                            message: '操作失败！',\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n\r\n                })\r\n            },\r\n            promotion(row) {\r\n                this.promotionDialogVisible = true\r\n                this.form2.playlet_name = row.playlet_name;\r\n                this.form2.playlet_id = row.playlet_id;\r\n                this.distributors = this.user.distributor;\r\n            },\r\n            cancel(){\r\n                this.$refs.form2.resetFields();\r\n                this.promotionDialogVisible = false\r\n            },\r\n            doPromotion() {\r\n                const param = {\r\n                    playlet_id: this.form2.playlet_id,\r\n                    playlet_name: this.form2.playlet_name,\r\n                    distributor_id: this.form2.distributor_id,\r\n                    media_source: this.form2.media_source,\r\n                    secret_key: this.form2.secret_key,\r\n                    label: this.form2.label,\r\n                    creater: this.user.name,\r\n                    remark: this.form2.remark,\r\n                    recharge_template_id: this.form2.recharge_template_id,\r\n                    adCallbackConfigId: this.form2.adCallbackConfigId\r\n                }\r\n                this.$axios.post(this.$httpUrl+'/promotion/promotion', param).then(res=>res.data).then(res=>{\r\n                    if(res.code==200){\r\n                        this.$message({\r\n                            message: '推广成功，推广链ID为：' + res.data.promotion_id + \"，推广链名称为：\" +  + res.data.promotion_name,\r\n                            type: 'success'\r\n                        });\r\n                        this.$refs.form2.resetFields();\r\n                        this.promotionDialogVisible = false;\r\n                    }else{\r\n                        this.$message({\r\n                            message: '操作失败！',\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n                })\r\n            },\r\n            mod(row){\r\n                this.centerDialogVisible = true\r\n                this.$nextTick(()=>{\r\n                    //赋值到表单\r\n                    this.form.id = row.id;\r\n                    this.form.playlet_name = row.playlet_name;\r\n                    this.form.playlet_id = row.playlet_id;\r\n                    this.form.release_time = row.release_time;\r\n                })\r\n                this.modRow = row;\r\n            },\r\n            add(){\r\n                this.centerDialogVisible = true\r\n                this.$nextTick(()=>{\r\n                    this.resetForm();\r\n                })\r\n\r\n            },\r\n\r\n            doSave(){\r\n                this.$axios.post(this.$httpUrl+'/playlet/checkrecord',this.form).then(res=>res.data).then(res=>{\r\n                    if(res.data.length==0){\r\n                        this.form.distributor_id = '1809883619983433';\r\n                        this.$axios.post(this.$httpUrl+'/playlet/save',this.form).then(res=>res.data).then(res=>{\r\n                            if(res.code==200){\r\n                                this.$message({\r\n                                    message: '操作成功！',\r\n                                    type: 'success'\r\n                                });\r\n                                this.centerDialogVisible = false\r\n                                this.loadPost()\r\n                                this. resetForm()\r\n                            }else{\r\n                                this.$message({\r\n                                    message: '操作失败！',\r\n                                    type: 'error'\r\n                                });\r\n                            }\r\n                        })\r\n                    }else{\r\n                        this.$message({\r\n                            message: this.form.playlet_id + '已添加！',\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n\r\n                })\r\n            },\r\n            exportExcel(){\r\n                this.form.time=this.currentDate();\r\n                this.form.creater = this.user.name;\r\n                this.$confirm('确定导出？','提示',{\r\n                    confirmButtonText:'确定',\r\n                    cancelButtonText:'取消',\r\n                    type:'warning'\r\n                }).then(() => {\r\n                    this.$axios.request({\r\n                        url:this.$httpUrl+'/playlet/export',\r\n                        method:'post',\r\n                        data: {\r\n                            date1:this.form1.date1,\r\n                            date2:this.form1.date2,\r\n                            location:this.form1.location,\r\n                            content:this.form1.content,\r\n                            hiredate1:this.form1.hiredate1,\r\n                            hiredate2:this.form1.hiredate2,\r\n                            creater:this.form1.creater\r\n                        },\r\n                        responseType:'blob'\r\n                    }).then(res=>{\r\n                        const url = window.URL.createObjectURL(new Blob([res.data]));\r\n                        const link = document.createElement('a');\r\n                        link.href = url;\r\n                        link.setAttribute('download','投放记录' + new Date().getTime() + '.xlsx');\r\n                        document.body.appendChild(link);\r\n                        link.click();\r\n                        window.URL.revokeObjectURL(URL);\r\n                    }).catch(() => {\r\n                        this.$message({\r\n                            message: '下载失败！',\r\n                            type: 'error'\r\n                        });\r\n                    })\r\n                })\r\n            },\r\n            currentDate(){\r\n                var d = new Date();\r\n                var year = d.getFullYear();\r\n                var month = d.getMonth();\r\n                month = month + 1 > 12 ? 1 : month + 1;\r\n                month =  month > 9 ? month : \"0\" +month.toString();\r\n                var day = d.getDate();\r\n                var hour = d.getHours();\r\n                hour = hour > 9 ? hour : \"0\" + hour.toString();\r\n                var minute = d.getMinutes();\r\n                minute = minute > 9 ? minute : \"0\" + minute.toString();\r\n                var second = d.getSeconds();\r\n                second = second > 9 ? second : \"0\" + second.toString();\r\n                return `${year}-${month}-${day} ${hour}:${minute}:${second}`;\r\n            },\r\n            doMod(){\r\n                this.form.time = this.currentDate();\r\n                this.form.creater = this.modRow.creater;\r\n                this.$axios.post(this.$httpUrl+'/playlet/update',this.form).then(res=>res.data).then(res=>{\r\n                    if(res.code==200){\r\n\r\n                        this.$message({\r\n                            message: '操作成功！',\r\n                            type: 'success'\r\n                        });\r\n                        this.centerDialogVisible = false\r\n                        this.loadPost()\r\n                        this. resetForm()\r\n                    }else{\r\n                        this.$message({\r\n                            message: '操作失败！',\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n                })\r\n            },\r\n            save(){\r\n                this.$refs.form.validate((valid) => {\r\n                    if (valid) {\r\n                        if(this.form.id){\r\n                            this.doMod();\r\n                        }else{\r\n                            this.doSave();\r\n                        }\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                });\r\n\r\n            },\r\n            handleSizeChange(val) {\r\n                this.pageNum=1\r\n                this.pageSize=val\r\n                this.loadPost()\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.pageNum=val;\r\n                this.loadPost();\r\n            },\r\n            resetParam(){\r\n                this.form1.date1='';\r\n                this.form1.date2='';\r\n                this.form1.location='';\r\n                this.form1.content='';\r\n                this.form1.hiredate1='';\r\n                this.form1.hiredate2='';\r\n                if (this.user.roleId!=2){\r\n                    this.form1.creater='';\r\n                } else {\r\n                    this.form1.creater=this.user.name;\r\n                }\r\n            },\r\n            loadPost(){\r\n                this.$axios.post(this.$httpUrl+'/playlet/listPage',{\r\n                    pageSize:this.pageSize,\r\n                    pageNum:this.pageNum,\r\n                    param:{\r\n                        date1:this.form1.date1,\r\n                        date2:this.form1.date2,\r\n                        location:this.form1.location,\r\n                        content:this.form1.content,\r\n                        hiredate1:this.form1.hiredate1,\r\n                        hiredate2:this.form1.hiredate2,\r\n                        creater:this.form1.creater\r\n                    }\r\n                }).then(res=>res.data).then(res=>{\r\n                    if(res.code==200){\r\n                        this.tableData=res.data;\r\n                        this.total=res.total;\r\n                    }else{\r\n                        alert('获取数据失败')\r\n                    }\r\n\r\n                })\r\n            }\r\n        },\r\n        beforeMount() {\r\n            if (this.user.roleId!=2){\r\n                this.form1.creater='';\r\n            } else {\r\n                this.form1.creater=JSON.parse(sessionStorage.getItem('CurUser')).name;\r\n            }\r\n            this.loadPost()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayletManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayletManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlayletManage.vue?vue&type=template&id=2d1342a1&scoped=true&\"\nimport script from \"./PlayletManage.vue?vue&type=script&lang=js&\"\nexport * from \"./PlayletManage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d1342a1\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}