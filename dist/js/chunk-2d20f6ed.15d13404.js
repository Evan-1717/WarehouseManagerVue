(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20f6ed"],{b438:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"100%"}},[t("div",{staticStyle:{"margin-bottom":"5px"}},[t("el-form",{ref:"form1",attrs:{model:e.form,"label-width":"75px"}},[t("el-col",{attrs:{span:4}},[t("el-form-item",{attrs:{label:"起止日期",prop:"creater"}},[t("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",placeholder:"起始时间","value-format":"yyyy-MM-dd"},model:{value:e.form1.date1,callback:function(t){e.$set(e.form1,"date1",t)},expression:"form1.date1"}}),e._v("- "),t("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",placeholder:"结束时间","value-format":"yyyy-MM-dd"},model:{value:e.form1.date2,callback:function(t){e.$set(e.form1,"date2",t)},expression:"form1.date2"}})],1)],1),t("el-col",{attrs:{span:3}},[t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2!=e.user.roleId,expression:"user.roleId!=2"}],attrs:{label:"记录人",prop:"creater"}},[t("el-select",{staticStyle:{width:"170px"},attrs:{filterable:"",clearable:"",multiple:"","collapse-tags":"",placeholder:"请选择"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadPost.apply(null,arguments)}},model:{value:e.form1.creater,callback:function(t){e.$set(e.form1,"creater",t)},expression:"form1.creater"}},e._l(e.users,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),t("el-col",{attrs:{span:3}},[t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2!=e.user.roleId,expression:"user.roleId!=2"}],attrs:{label:"角色",prop:"role"}},[t("el-select",{staticStyle:{width:"170px"},attrs:{multiple:"",clearable:"","collapse-tags":"",placeholder:"请选择"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadPost.apply(null,arguments)}},model:{value:e.form1.role,callback:function(t){e.$set(e.form1,"role",t)},expression:"form1.role"}},e._l(e.roles,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),t("el-col",{attrs:{span:3}},[t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2!=e.user.roleId,expression:"user.roleId!=2"}],attrs:{label:"位置",prop:"location"}},[t("el-select",{staticStyle:{width:"170px"},attrs:{"collapse-tags":"",placeholder:"请选择",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadPost.apply(null,arguments)}},model:{value:e.form1.location,callback:function(t){e.$set(e.form1,"location",t)},expression:"form1.location"}},e._l(e.locations,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:3}},[t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2!=e.user.roleId,expression:"user.roleId!=2"}],attrs:{label:"内容",prop:"content"}},[t("el-select",{staticStyle:{width:"170px"},attrs:{"collapse-tags":"",placeholder:"请选择",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadPost.apply(null,arguments)}},model:{value:e.form1.content,callback:function(t){e.$set(e.form1,"content",t)},expression:"form1.content"}},e._l(e.contents,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:4}},[t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2!=e.user.roleId,expression:"user.roleId!=2"}],attrs:{label:"入职时间",prop:"creater"}},[t("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",placeholder:"起始时间","value-format":"yyyy-MM-dd"},model:{value:e.form1.hiredate1,callback:function(t){e.$set(e.form1,"hiredate1",t)},expression:"form1.hiredate1"}}),e._v("- "),t("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",placeholder:"结束时间","value-format":"yyyy-MM-dd"},model:{value:e.form1.hiredate2,callback:function(t){e.$set(e.form1,"hiredate2",t)},expression:"form1.hiredate2"}})],1)],1)],1),t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:e.loadPost}},[e._v("查询")]),t("el-button",{attrs:{type:"success"},on:{click:e.resetParam}},[e._v("重置")]),t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:e.add}},[e._v("新增")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:2!=e.user.roleId,expression:"user.roleId!=2"}],staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:function(t){return e.aiAnalyze("first")}}},[e._v("AI分析")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:2!=e.user.roleId,expression:"user.roleId!=2"}],staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:e.exportExcel}},[e._v("导出")])],1),t("el-table",{staticStyle:{overflow:"auto"},attrs:{data:e.tableData,"summary-method":e.getSummaries,"show-summary":"","header-cell-style":e.cell_style,border:"","max-height":"calc(100% - 200px)"}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"50",fixed:"left"}}),t("el-table-column",{attrs:{prop:"date",label:"日期",width:"100",fixed:"left"}}),t("el-table-column",{attrs:{prop:"creater",label:"记录人",width:"80",fixed:"left"}}),2!=e.user.roleId?t("el-table-column",{attrs:{prop:"role",label:"角色",width:"50",fixed:"left"}}):e._e(),2!=e.user.roleId?t("el-table-column",{attrs:{prop:"location",label:"位置",width:"100",fixed:"left"}}):e._e(),2!=e.user.roleId?t("el-table-column",{attrs:{prop:"content",label:"内容",width:"100",fixed:"left"}}):e._e(),2!=e.user.roleId?t("el-table-column",{attrs:{prop:"hiredate",label:"入职时间",width:"100",fixed:"left"}}):e._e(),t("el-table-column",{attrs:{prop:"fanqiemianfeiexpend",label:"番茄免费消耗",width:"100",sortable:!0}}),t("el-table-column",{attrs:{prop:"fanqiemianfeirecharge",label:"番茄免费充值",width:"100",sortable:!0}}),t("el-table-column",{attrs:{prop:"fanqiemianfeiroi",label:"番茄免费ROI",width:"100",sortable:!0}}),t("el-table-column",{attrs:{prop:"fanqiemianfeimargin",label:"番茄免费盈亏",width:"100",sortable:!0}}),2!=e.user.roleId?t("el-table-column",{attrs:{prop:"fanqiemianfeiprofit",label:"番茄免费毛利",width:"100",sortable:!0}}):e._e(),t("el-table-column",{attrs:{prop:"fanqiefufeiexpend",label:"番茄付费消耗",width:"100",sortable:!0}}),t("el-table-column",{attrs:{prop:"fanqiefufeirecharge",label:"番茄付费充值",width:"100",sortable:!0}}),t("el-table-column",{attrs:{prop:"fanqiefufeiroi",label:"番茄付费ROI",width:"100",sortable:!0}}),t("el-table-column",{attrs:{prop:"fanqiefufeimargin",label:"番茄付费盈亏",width:"100",sortable:!0}}),2!=e.user.roleId?t("el-table-column",{attrs:{prop:"fanqiefufeiprofit",label:"番茄付费毛利",width:"100",sortable:!0}}):e._e(),2!=e.user.roleId?t("el-table-column",{attrs:{prop:"zongexpend",label:"总消耗",width:"90",sortable:!0}}):e._e(),t("el-table-column",{attrs:{prop:"zongroi",label:"总ROI",width:"90",sortable:!0}}),t("el-table-column",{attrs:{prop:"zongmargin",label:"总盈亏",width:"90",sortable:!0}}),2!=e.user.roleId?t("el-table-column",{attrs:{prop:"zongprofit",label:"总毛利",width:"90",sortable:!0}}):e._e(),t("el-table-column",{attrs:{prop:"time",label:"记录时间",width:"150"}}),t("el-table-column",{attrs:{prop:"operate",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{attrs:{size:"small",type:"success"},on:{click:function(t){return e.mod(i.row)}}},[e._v("编辑")]),t("el-popconfirm",{staticStyle:{"margin-left":"5px"},attrs:{title:"确定删除吗？"},on:{confirm:function(t){return e.del(i.row.id)}}},[t("el-button",{attrs:{slot:"reference",size:"small",type:"danger"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[10,20,50,1e3],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),t("el-dialog",{attrs:{title:"提示",visible:e.centerDialogVisible,width:"31%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[t("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"140px"}},[t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"日期",prop:"date"}},[t("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"番茄免费消耗",prop:"fanqiemianfeiexpend"}},[t("el-input-number",{attrs:{precision:2,step:.01,min:0},model:{value:e.form.fanqiemianfeiexpend,callback:function(t){e.$set(e.form,"fanqiemianfeiexpend",t)},expression:"form.fanqiemianfeiexpend"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"番茄免费充值",prop:"fanqiemianfeirecharge"}},[t("el-input-number",{attrs:{precision:2,step:.01,min:0},model:{value:e.form.fanqiemianfeirecharge,callback:function(t){e.$set(e.form,"fanqiemianfeirecharge",t)},expression:"form.fanqiemianfeirecharge"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"番茄付费消耗",prop:"fanqiefufeiexpend"}},[t("el-input-number",{attrs:{precision:2,step:.01,min:0},model:{value:e.form.fanqiefufeiexpend,callback:function(t){e.$set(e.form,"fanqiefufeiexpend",t)},expression:"form.fanqiefufeiexpend"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"番茄付费充值",prop:"fanqiefufeirecharge"}},[t("el-input-number",{attrs:{precision:2,step:.01,min:0},model:{value:e.form.fanqiefufeirecharge,callback:function(t){e.$set(e.form,"fanqiefufeirecharge",t)},expression:"form.fanqiefufeirecharge"}})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"提问",visible:e.aiAskDialogVisible,width:"31%",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.aiAskDialogVisible=t}}},[t("el-form",{ref:"formAiAskRef",attrs:{rules:e.rules,model:e.formAiAsk,"label-width":"140px"}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"请输入问题:",prop:"ask"}},[t("el-input",{staticStyle:{width:"400px"},attrs:{precision:2},model:{value:e.formAiAsk.ask,callback:function(t){e.$set(e.formAiAsk,"ask",t)},expression:"formAiAsk.ask"}})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.aiAskDialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.ask}},[e._v("确 定")])],1)],1),t("el-dialog",{staticStyle:{"max-height":"100%"},attrs:{title:e.question,visible:e.aiAnswerDialogVisible,width:"40%",center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.aiAnswerDialogVisible=t},close:function(t){return e.aiAnswerClose()}}},[t("div",{staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(e.aiAnswer))]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.aiAnswerDialogVisible=!1}}},[e._v("退出提问")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.aiAnalyze("other")}}},[e._v("继续提问")])],1)])],1)},r=[],o={name:"TencentManage",data(){return{user:JSON.parse(sessionStorage.getItem("CurUser")),question:"问题",formAiAsk:{ask:""},aiAskDialogVisible:!1,aiAnswerDialogVisible:!1,aiAnswer:"",tableData:[],pageSize:10,pageNum:1,total:0,name:"",centerDialogVisible:!1,form:{id:"",date:"",fanqiemianfeiexpend:0,fanqiemianfeirecharge:0,fanqiemianfeiroi:0,fanqiemianfeiprofit:0,fanqiemianfeimargin:0,fanqiefufeiexpend:0,fanqiefufeirecharge:0,fanqiefufeiroi:0,fanqiefufeiprofit:0,fanqiefufeimargin:0,zongmargin:0,zongexpend:0,zongroi:0,zongprofit:0,time:"",creater:""},form1:{date1:"",date2:"",hiredate1:"",hiredate2:"",location:"",content:"",creater:[JSON.parse(sessionStorage.getItem("CurUser")).name],role:[]},rules:{date:[{required:!0,trigger:"blur"}]},locations:[{value:"1903",label:"1903"},{value:"907",label:"907"}],contents:[{value:"番茄",label:"番茄"},{value:"点众",label:"点众"},{value:"小说",label:"小说"},{value:"腾讯",label:"腾讯"}],users:[],roles:[],modRow:{}}},methods:{getInputInfo(){this.$axios.get(this.$httpUrl+"/user/inputInfo").then(e=>e.data).then(e=>{200==e.code?(this.users=e.data.user,this.roles=e.data.role):this.$message({message:"操作失败！",type:"error"})})},aiAnswerClose(){},ask(){this.question="问题: "+this.formAiAsk.ask;const e={date1:this.form1.date1,date2:this.form1.date2,location:this.form1.location,content:this.form1.content,hiredate1:this.form1.hiredate1,hiredate2:this.form1.hiredate2,creater:this.form1.creater,asker:this.user.name,ask:this.formAiAsk.ask,tableName:"tencent",role:this.form1.role},t=this.$loading({lock:!0,text:"AI正在思考，清稍等！",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$axios.post(this.$httpUrl+"/deepseek/ask",e).then(e=>e.data).then(e=>{200==e.code?(this.aiAskDialogVisible=!1,this.aiAnswerDialogVisible=!0,this.aiAnswer=e.data,t.close()):this.$message({message:"操作失败！",type:"error"})})},aiAnalyze(e){this.formAiAsk.ask="",this.aiAnswerDialogVisible=!1,this.aiAnswer="",this.aiAskDialogVisible=!0,"first"==e&&this.$axios.post(this.$httpUrl+"/deepseek/clearAsk",{asker:this.user.name,tableName:"tencent"})},getSummaries(e){const{columns:t,data:i}=e,a=[];var r=0,o=0,s=0,l=0,n=0,f=0,m=0,h=0,d=0,c=0;for(var p of i)r+=p.fanqiemianfeiexpend,o+=p.fanqiemianfeirecharge,s+=p.fanqiemianfeimargin,l+=p.fanqiemianfeiprofit,n+=p.fanqiefufeiexpend,f+=p.fanqiefufeirecharge,m+=p.fanqiefufeimargin,h+=p.fanqiefufeiprofit,d+=p.zongmargin,c+=p.zongprofit;return t.forEach((e,t)=>{2==this.user.roleId?0===t?a[t]="合计":3===t?a[t]=this.fixed2(r):4===t?a[t]=this.fixed2(o):5===t?a[t]=this.fixed(o/r*(.644+.2)/.735):6===t?a[t]=this.fixed2(s):7===t?a[t]=this.fixed2(n):8===t?a[t]=this.fixed2(f):9===t?a[t]=this.fixed(f/n):10===t?a[t]=this.fixed2(m):11===t?a[t]=this.fixed((o+f)/(r+n)):12===t&&(a[t]=this.fixed2(d)):0===t?a[t]="合计":7===t?a[t]=this.fixed2(r):8===t?a[t]=this.fixed2(o):9===t?a[t]=this.fixed(o/r):10===t?a[t]=this.fixed2(s):11===t?a[t]=this.fixed2(l):12===t?a[t]=this.fixed2(n):13===t?a[t]=this.fixed2(f):14===t?a[t]=this.fixed(.85*f/n/1.035):15===t?a[t]=this.fixed2(m):16===t?a[t]=this.fixed2(h):17===t?a[t]=this.fixed2(r+n):18===t?a[t]=this.fixed((o+f)/(r+n)):19===t?a[t]=this.fixed2(d):20===t&&(a[t]=this.fixed2(c))}),a},fixed(e){return Number(e).toFixed(4)},fixed2(e){return Number(e).toFixed(2)},cell_style({columnIndex:e}){return 2==this.user.roleId?3==e||4==e||5==e||6==e?"background:rgb(253,217,176);":7==e||8==e||9==e||10==e?"background:rgb(239,147,18);":11==e||12==e?"background:rgb(207,200,221);":"background:#f2f5fc;":7==e||8==e||9==e||10==e||11==e?"background:rgb(253,217,176);":12==e||13==e||14==e||15==e||16==e?"background:rgb(239,147,18);":17==e||18==e||19==e||20==e?"background:rgb(219,187,164);":"background:#f2f5fc;"},resetForm(){this.$refs.form.resetFields(),this.form.id=""},del(e){this.$axios.get(this.$httpUrl+"/tencent/del?id="+e).then(e=>e.data).then(e=>{200==e.code?(this.$message({message:"操作成功！",type:"success"}),this.loadPost()):this.$message({message:"操作失败！",type:"error"})})},mod(e){this.centerDialogVisible=!0,this.$nextTick(()=>{this.form.id=e.id,this.form.date=e.date,this.form.fanqiemianfeiexpend=e.fanqiemianfeiexpend,this.form.fanqiemianfeirecharge=e.fanqiemianfeirecharge,this.form.fanqiefufeiexpend=e.fanqiefufeiexpend,this.form.fanqiefufeirecharge=e.fanqiefufeirecharge}),this.modRow=e},add(){this.centerDialogVisible=!0,this.$nextTick(()=>{this.resetForm()})},dealRoi(){this.form.fanqiemianfeiexpend?(this.form.fanqiemianfeiroi=this.fixed(this.form.fanqiemianfeirecharge/this.form.fanqiemianfeiexpend),this.form.fanqiemianfeimargin=this.fixed2(this.form.fanqiemianfeirecharge*(this.form.fanqiemianfeirecharge/this.form.fanqiemianfeiexpend)*(.644+.2)/.735-this.form.fanqiemianfeirecharge),this.form.fanqiemianfeiprofit=this.fixed2(this.form.fanqiemianfeirecharge*(this.form.fanqiemianfeirecharge/this.form.fanqiemianfeiexpend)*(.644+.2)/.735-this.form.fanqiemianfeirecharge)):(this.form.fanqiemianfeiroi=0,this.form.fanqiemianfeimargin=0,this.form.fanqiemianfeiprofit=0),this.form.fanqiefufeiexpend?(this.form.fanqiefufeiroi=this.fixed(this.form.fanqiefufeirecharge/this.form.fanqiefufeiexpend),this.form.fanqiefufeimargin=this.fixed2(.85*this.form.fanqiefufeirecharge-this.form.fanqiefufeiexpend/1.035),this.form.fanqiefufeiprofit=this.fixed2(.85*this.form.fanqiefufeirecharge-this.form.fanqiefufeiexpend/1.035)):(this.form.fanqiefufeiroi=0,this.form.fanqiefufeimargin=0,this.form.fanqiefufeiprofit=0),this.form.fanqiemianfeiexpend+this.form.fanqiefufeiexpend!=0?(this.form.zongroi=this.fixed((this.form.fanqiemianfeirecharge+this.form.fanqiefufeirecharge)/(this.form.fanqiemianfeiexpend+this.form.fanqiefufeiexpend)),this.form.zongmargin=Number(this.form.fanqiemianfeimargin)+Number(this.form.fanqiefufeimargin),this.form.zongprofit=Number(this.form.fanqiemianfeiprofit)+Number(this.form.fanqiefufeiprofit)):(this.form.zongroi=0,this.form.zongmargin=0,this.form.zongprofit=0),this.form.zongexpend=this.form.fanqiemianfeiexpend+this.form.fanqiefufeiexpend},doSave(){this.form.time=this.currentDate(),this.form.creater=this.user.name,this.$axios.post(this.$httpUrl+"/tencent/checkrecord",this.form).then(e=>e.data).then(e=>{0==e.data.length?(this.dealRoi(),console.log(this.form),this.$axios.post(this.$httpUrl+"/tencent/save",this.form).then(e=>e.data).then(e=>{200==e.code?(this.$message({message:"操作成功！",type:"success"}),this.centerDialogVisible=!1,this.loadPost(),this.resetForm()):this.$message({message:"操作失败！",type:"error"})})):this.$message({message:this.form.date+"已录入数据！",type:"error"})})},exportExcel(){this.form.time=this.currentDate(),this.form.creater=this.user.name,this.$confirm("确定导出？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$axios.request({url:this.$httpUrl+"/tencent/export",method:"post",data:{date1:this.form1.date1,date2:this.form1.date2,location:this.form1.location,content:this.form1.content,hiredate1:this.form1.hiredate1,hiredate2:this.form1.hiredate2,creater:this.form1.creater,role:this.form1.role},responseType:"blob"}).then(e=>{const t=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=t,i.setAttribute("download","投放记录"+(new Date).getTime()+".xlsx"),document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(URL)}).catch(()=>{this.$message({message:"下载失败！",type:"error"})})})},currentDate(){var e=new Date,t=e.getFullYear(),i=e.getMonth();i=i+1>12?1:i+1,i=i>9?i:"0"+i.toString();var a=e.getDate(),r=e.getHours();r=r>9?r:"0"+r.toString();var o=e.getMinutes();o=o>9?o:"0"+o.toString();var s=e.getSeconds();return`${t}-${i}-${a} ${r}:${o}:${s}`},doMod(){this.form.time=this.currentDate(),this.dealRoi(),this.form.creater=this.modRow.creater,this.$axios.post(this.$httpUrl+"/tencent/update",this.form).then(e=>e.data).then(e=>{200==e.code?(this.$message({message:"操作成功！",type:"success"}),this.centerDialogVisible=!1,this.loadPost(),this.resetForm()):this.$message({message:"操作失败！",type:"error"})})},save(){this.$refs.form.validate(e=>{if(!e)return!1;this.form.id?this.doMod():this.doSave()})},handleSizeChange(e){this.pageNum=1,this.pageSize=e,this.loadPost()},handleCurrentChange(e){this.pageNum=e,this.loadPost()},resetParam(){this.form1.date1="",this.form1.date2="",this.form1.location="",this.form1.content="",this.form1.hiredate1="",this.form1.hiredate2="",2!=this.user.roleId?this.form1.creater=[]:this.form1.creater=[this.user.name]},loadPost(){this.$axios.post(this.$httpUrl+"/tencent/listPage",{pageSize:this.pageSize,pageNum:this.pageNum,param:{date1:this.form1.date1,date2:this.form1.date2,location:this.form1.location,content:this.form1.content,hiredate1:this.form1.hiredate1,hiredate2:this.form1.hiredate2,creater:this.form1.creater,role:this.form1.role}}).then(e=>e.data).then(e=>{200==e.code?(this.tableData=e.data,this.total=e.total):alert("获取数据失败")})}},beforeMount(){2!=this.user.roleId?this.form1.creater=[]:this.form1.creater=[JSON.parse(sessionStorage.getItem("CurUser")).name],this.loadPost(),this.getInputInfo()}},s=o,l=i("2877"),n=Object(l["a"])(s,a,r,!1,null,"4fcbb5f2",null);t["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d20f6ed.15d13404.js.map