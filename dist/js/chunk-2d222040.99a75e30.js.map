{"version":3,"sources":["webpack:///./src/components/promotion/PromotionManage.vue","webpack:///src/components/promotion/PromotionManage.vue","webpack:///./src/components/promotion/PromotionManage.vue?de45","webpack:///./src/components/promotion/PromotionManage.vue?7066"],"names":["render","_vm","this","_c","_self","staticStyle","ref","attrs","form","model","value","form1","date1","callback","$$v","$set","expression","_v","date2","nativeOn","$event","type","indexOf","_k","keyCode","key","loadPost","apply","arguments","promotion_id","promotion_name","directives","name","rawName","user","roleId","creater","on","resetParam","exportExcel","tableData","cell_style","_e","scopedSlots","_u","fn","scope","mod","row","del","id","slot","pageNum","pageSize","total","handleSizeChange","handleCurrentChange","staticRenderFns","data","rules","date","required","trigger","modRow","methods","fixed","fixed2","columnIndex","resetForm","message","confirmButtonText","cancelButtonText","then","url","method","location","content","hiredate1","hiredate2","responseType","res","link","document","window","catch","currentDate","month","hour","minute","second","param","alert","calculate","mini_program_name","user_name","beforeMount","component"],"mappings":"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","file":"js/chunk-2d222040.99a75e30.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"height\":\"100%\"}},[_c('div',{staticStyle:{\"margin-bottom\":\"5px\"}},[_c('el-form',{ref:\"form1\",attrs:{\"model\":_vm.form,\"label-width\":\"75px\"}},[_c('el-col',{attrs:{\"span\":4}},[_c('el-form-item',{attrs:{\"label\":\"起止日期\",\"prop\":\"creater\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"140px\"},attrs:{\"type\":\"date\",\"placeholder\":\"起始时间\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.form1.date1),callback:function ($$v) {_vm.$set(_vm.form1, \"date1\", $$v)},expression:\"form1.date1\"}}),_vm._v(\"- \"),_c('el-date-picker',{staticStyle:{\"width\":\"140px\"},attrs:{\"type\":\"date\",\"placeholder\":\"结束时间\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.form1.date2),callback:function ($$v) {_vm.$set(_vm.form1, \"date2\", $$v)},expression:\"form1.date2\"}})],1)],1),_c('el-col',{attrs:{\"span\":3}},[_c('el-form-item',{attrs:{\"label\":\"投放ID\",\"prop\":\"content\"}},[_c('el-input',{staticStyle:{\"width\":\"170px\"},attrs:{\"placeholder\":\"请输入\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.loadPost.apply(null, arguments)}},model:{value:(_vm.form1.promotion_id),callback:function ($$v) {_vm.$set(_vm.form1, \"promotion_id\", $$v)},expression:\"form1.promotion_id\"}})],1)],1),_c('el-col',{attrs:{\"span\":3}},[_c('el-form-item',{attrs:{\"label\":\"投放名称\",\"prop\":\"location\"}},[_c('el-input',{staticStyle:{\"width\":\"170px\"},attrs:{\"placeholder\":\"请输入\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.loadPost.apply(null, arguments)}},model:{value:(_vm.form1.promotion_name),callback:function ($$v) {_vm.$set(_vm.form1, \"promotion_name\", $$v)},expression:\"form1.promotion_name\"}})],1)],1),_c('el-col',{attrs:{\"span\":3}},[_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.user.roleId!=2),expression:\"user.roleId!=2\"}],attrs:{\"label\":\"投放人\",\"prop\":\"creater\"}},[_c('el-input',{staticStyle:{\"width\":\"170px\"},attrs:{\"placeholder\":\"请输入投放人名\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.loadPost.apply(null, arguments)}},model:{value:(_vm.form1.creater),callback:function ($$v) {_vm.$set(_vm.form1, \"creater\", $$v)},expression:\"form1.creater\"}})],1)],1)],1),_c('el-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.loadPost}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.resetParam}},[_vm._v(\"重置\")]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.user.roleId!=2),expression:\"user.roleId!=2\"}],staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.exportExcel}},[_vm._v(\"导出\")])],1),_c('el-table',{staticStyle:{\"overflow\":\"auto\"},attrs:{\"data\":_vm.tableData,\"header-cell-style\":_vm.cell_style,\"border\":\"\",\"max-height\":\"calc(100% - 200px)\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\",\"fixed\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"promotion_id\",\"label\":\"投放ID\",\"width\":\"150\",\"fixed\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"promotion_name\",\"label\":\"投放名称\",\"width\":\"200\",\"fixed\":\"left\"}}),(_vm.user.roleId!=2)?_c('el-table-column',{attrs:{\"prop\":\"promotion_http_url\",\"label\":\"投放网络地址\",\"width\":\"200\",\"fixed\":\"left\"}}):_vm._e(),(_vm.user.roleId!=2)?_c('el-table-column',{attrs:{\"prop\":\"promotion_url\",\"label\":\"投放地址\",\"width\":\"200\",\"fixed\":\"left\"}}):_vm._e(),_c('el-table-column',{attrs:{\"prop\":\"distributor_id\",\"label\":\"分销商ID\",\"width\":\"150\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"book_id\",\"label\":\"短剧ID\",\"width\":\"120\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"media_source\",\"label\":\"媒体类型 \",\"width\":\"120\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"package_name\",\"label\":\"剧场名\",\"width\":\"120\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"creater\",\"label\":\"投放人\",\"width\":\"120\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"create_time\",\"label\":\"投放时间\",\"width\":\"150\",\"sortable\":true}}),_c('el-table-column',{attrs:{\"prop\":\"operate\",\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.mod(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-popconfirm',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"title\":\"确定删除吗？\"},on:{\"confirm\":function($event){return _vm.del(scope.row.id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"small\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"删除\")])],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.pageNum,\"page-sizes\":[10, 20, 50, 1000],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div style=\"height:100%\">\r\n        <div style=\"margin-bottom: 5px;\">\r\n            <el-form ref=\"form1\" :model=\"form\" label-width=\"75px\">\r\n                <el-col :span=\"4\">\r\n                    <el-form-item label=\"起止日期\" prop=\"creater\">\r\n                        <el-date-picker type=\"date\" placeholder=\"起始时间\" v-model=\"form1.date1\" value-format=\"yyyy-MM-dd\" style=\"width: 140px;\"></el-date-picker>-\r\n                        <el-date-picker type=\"date\" placeholder=\"结束时间\" v-model=\"form1.date2\" value-format=\"yyyy-MM-dd\" style=\"width: 140px;\"></el-date-picker>\r\n                    </el-form-item>\r\n                </el-col>\r\n\r\n                <el-col :span=\"3\">\r\n                    <el-form-item  label=\"投放ID\" prop=\"content\">\r\n                        <el-input v-model=\"form1.promotion_id\" placeholder=\"请输入\" style=\"width: 170px;\"\r\n                                  @keyup.enter.native=\"loadPost\" clearable ></el-input>\r\n                    </el-form-item>\r\n                </el-col>\r\n\r\n                <el-col :span=\"3\">\r\n                    <el-form-item  label=\"投放名称\" prop=\"location\">\r\n                        <el-input v-model=\"form1.promotion_name\" placeholder=\"请输入\" style=\"width: 170px;\"\r\n                                  @keyup.enter.native=\"loadPost\" clearable ></el-input>\r\n                    </el-form-item>\r\n                </el-col>\r\n\r\n                <el-col :span=\"3\">\r\n                    <el-form-item v-show=\"user.roleId!=2\"  label=\"投放人\" prop=\"creater\">\r\n                        <el-input v-model=\"form1.creater\" placeholder=\"请输入投放人名\" style=\"width: 170px;\"\r\n                                  @keyup.enter.native=\"loadPost\" clearable ></el-input>\r\n                    </el-form-item>\r\n                </el-col>\r\n            </el-form>\r\n\r\n\r\n            <el-button type=\"primary\" style=\"margin-left: 5px;\" @click=\"loadPost\">查询</el-button>\r\n            <el-button type=\"success\" @click=\"resetParam\">重置</el-button>\r\n            <el-button type=\"primary\" style=\"margin-left: 5px;\" @click=\"exportExcel\" v-show=\"user.roleId!=2\">导出</el-button>\r\n        </div>\r\n        <el-table :data=\"tableData\"\r\n                  :header-cell-style=\"cell_style\" border style=\"overflow: auto; \" max-height=\"calc(100% - 200px)\">\r\n            <el-table-column type=\"index\" label=\"序号\" width=\"50\" fixed=\"left\"></el-table-column>\r\n            <el-table-column prop=\"promotion_id\" label=\"投放ID\" width=\"150\" fixed=\"left\" ></el-table-column>\r\n            <el-table-column prop=\"promotion_name\" label=\"投放名称\" width=\"200\" fixed=\"left\" ></el-table-column>\r\n            <el-table-column prop=\"promotion_http_url\" label=\"投放网络地址\" width=\"200\" fixed=\"left\" v-if=\"user.roleId!=2\"></el-table-column>\r\n            <el-table-column prop=\"promotion_url\" label=\"投放地址\" width=\"200\" fixed=\"left\" v-if=\"user.roleId!=2\"></el-table-column>\r\n            <el-table-column prop=\"distributor_id\" label=\"分销商ID\" width=\"150\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"book_id\" label=\"短剧ID\" width=\"120\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"media_source\" label=\"媒体类型 \" width=\"120\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"package_name\" label=\"剧场名\" width=\"120\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"creater\" label=\"投放人\" width=\"120\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"create_time\" label=\"投放时间\" width=\"150\" :sortable=\"true\"></el-table-column>\r\n            <el-table-column prop=\"operate\" label=\"操作\" width=\"150\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button size=\"small\" type=\"success\" @click=\"mod(scope.row)\">编辑</el-button>\r\n                    <el-popconfirm title=\"确定删除吗？\" @confirm=\"del(scope.row.id)\" style=\"margin-left: 5px;\">\r\n                        <el-button slot=\"reference\" size=\"small\" type=\"danger\" >删除</el-button>\r\n                    </el-popconfirm>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"pageNum\"\r\n                :page-sizes=\"[10, 20, 50, 1000]\"\r\n                :page-size=\"pageSize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"total\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"promotionManage\",\r\n        data() {\r\n            return {\r\n                user : JSON.parse(sessionStorage.getItem('CurUser')),\r\n                tableData: [],\r\n                pageSize:10,\r\n                pageNum:1,\r\n                total:0,\r\n                name:'',\r\n                form1:{\r\n                    date1:'',\r\n                    date2:'',\r\n                    promotion_id:'',\r\n                    promotion_name:'',\r\n                    creater:JSON.parse(sessionStorage.getItem('CurUser')).name\r\n                },\r\n                rules: {\r\n                    date: [\r\n                        {required: true, trigger: 'blur'},\r\n                    ]\r\n                },\r\n                modRow: {}\r\n            }\r\n        },\r\n        methods:{\r\n            fixed (val) {\r\n                return Number(val).toFixed(4);\r\n            },\r\n            fixed2 (val) {\r\n                return Number(val).toFixed(2);\r\n            },\r\n            cell_style({columnIndex}){\r\n                if (this.user.roleId==2) {\r\n                    if (columnIndex == 3 ||columnIndex == 4 || columnIndex == 5 || columnIndex == 6) {\r\n                        return 'background:rgb(253,217,176);'\r\n                    } else if (columnIndex == 7 ||columnIndex == 8 || columnIndex == 9 || columnIndex == 10) {\r\n                        return 'background:rgb(207,200,221);'\r\n                    }else if (columnIndex == 11 ||columnIndex == 12 || columnIndex == 13 || columnIndex == 14) {\r\n                        return 'background:rgb(239,247,184);'\r\n                    }else if (columnIndex == 15 ||columnIndex == 16 || columnIndex == 17 || columnIndex == 18) {\r\n                        return 'background:rgb(239,147,18);'\r\n                    }else if (columnIndex == 19 ||columnIndex == 20 || columnIndex == 21 || columnIndex == 22) {\r\n                        return 'background:rgb(253,217,176);'\r\n                    }else if (columnIndex == 23 ||columnIndex == 24 || columnIndex == 25 || columnIndex == 26) {\r\n                        return 'background:rgb(239,147,18);'\r\n                    } else if (columnIndex == 27 || columnIndex == 28) {\r\n                        return 'background:rgb(207,200,221);'\r\n                    } else{\r\n                        return 'background:#f2f5fc;'\r\n                    }\r\n                } else {\r\n                    if (columnIndex == 7 ||columnIndex == 8 || columnIndex == 9 || columnIndex == 10 || columnIndex == 11) {\r\n                        return 'background:rgb(253,217,176);'\r\n                    } else if (columnIndex == 12 ||columnIndex == 13 || columnIndex == 14 || columnIndex == 15 || columnIndex == 16) {\r\n                        return 'background:rgb(207,200,221);'\r\n                    }else if (columnIndex == 17 ||columnIndex == 18 || columnIndex == 19 || columnIndex == 20 || columnIndex == 21) {\r\n                        return 'background:rgb(239,247,184);'\r\n                    }else if (columnIndex == 22 ||columnIndex == 23 || columnIndex == 24 || columnIndex == 25 || columnIndex == 26) {\r\n                        return 'background:rgb(239,147,18);'\r\n                    }else if (columnIndex == 27 ||columnIndex == 28 || columnIndex == 29 || columnIndex == 30 || columnIndex == 31) {\r\n                        return 'background:rgb(253,217,176);'\r\n                    }else if (columnIndex == 32 ||columnIndex == 33 || columnIndex == 34 || columnIndex == 35 || columnIndex == 36) {\r\n                        return 'background:rgb(207,200,221);'\r\n                    } else if (columnIndex == 37 ||columnIndex == 38 ||columnIndex == 39 || columnIndex == 40) {\r\n                        return 'background:rgb(219,187,164);'\r\n                    } else{\r\n                        return 'background:#f2f5fc;'\r\n                    }\r\n                }\r\n            },\r\n            resetForm() {\r\n                this.$refs.form.resetFields();\r\n                this.form.id = '';\r\n            },\r\n            del(id){\r\n                this.$axios.get(this.$httpUrl+'/shouzhi/del?id='+id).then(res=>res.data).then(res=>{\r\n                    if(res.code==200){\r\n\r\n                        this.$message({\r\n                            message: '操作成功！',\r\n                            type: 'success'\r\n                        });\r\n                        this.loadPost()\r\n                    }else{\r\n                        this.$message({\r\n                            message: '操作失败！',\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n\r\n                })\r\n            },\r\n            exportExcel(){\r\n                this.form.time=this.currentDate();\r\n                this.form.creater = this.user.name;\r\n                this.$confirm('确定导出？','提示',{\r\n                    confirmButtonText:'确定',\r\n                    cancelButtonText:'取消',\r\n                    type:'warning'\r\n                }).then(() => {\r\n                    this.$axios.request({\r\n                        url:this.$httpUrl+'/shouzhi/export',\r\n                        method:'post',\r\n                        data: {\r\n                            date1:this.form1.date1,\r\n                            date2:this.form1.date2,\r\n                            location:this.form1.location,\r\n                            content:this.form1.content,\r\n                            hiredate1:this.form1.hiredate1,\r\n                            hiredate2:this.form1.hiredate2,\r\n                            creater:this.form1.creater\r\n                        },\r\n                        responseType:'blob'\r\n                    }).then(res=>{\r\n                        const url = window.URL.createObjectURL(new Blob([res.data]));\r\n                        const link = document.createElement('a');\r\n                        link.href = url;\r\n                        link.setAttribute('download','投放记录' + new Date().getTime() + '.xlsx');\r\n                        document.body.appendChild(link);\r\n                        link.click();\r\n                        window.URL.revokeObjectURL(URL);\r\n                    }).catch(() => {\r\n                        this.$message({\r\n                            message: '下载失败！',\r\n                            type: 'error'\r\n                        });\r\n                    })\r\n                })\r\n            },\r\n            currentDate(){\r\n                var d = new Date();\r\n                var year = d.getFullYear();\r\n                var month = d.getMonth();\r\n                month = month + 1 > 12 ? 1 : month + 1;\r\n                month =  month > 9 ? month : \"0\" +month.toString();\r\n                var day = d.getDate();\r\n                var hour = d.getHours();\r\n                hour = hour > 9 ? hour : \"0\" + hour.toString();\r\n                var minute = d.getMinutes();\r\n                minute = minute > 9 ? minute : \"0\" + minute.toString();\r\n                var second = d.getSeconds();\r\n                second = second > 9 ? second : \"0\" + second.toString();\r\n                return `${year}-${month}-${day} ${hour}:${minute}:${second}`;\r\n            },\r\n            handleSizeChange(val) {\r\n                this.pageNum=1\r\n                this.pageSize=val\r\n                this.loadPost()\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.pageNum=val;\r\n                this.loadPost();\r\n            },\r\n            resetParam(){\r\n                this.form1.date1='';\r\n                this.form1.date2='';\r\n                this.form1.promotion_id='';\r\n                this.form1.promotion_name='';\r\n                if (this.user.roleId!=2){\r\n                    this.form1.creater='';\r\n                } else {\r\n                    this.form1.creater=this.user.name;\r\n                }\r\n            },\r\n            loadPost(){\r\n                this.$axios.post(this.$httpUrl+'/promotion/listPage',{\r\n                    pageSize:this.pageSize,\r\n                    pageNum:this.pageNum,\r\n                    param:{\r\n                        date1:this.form1.date1,\r\n                        date2:this.form1.date2,\r\n                        promotion_id:this.form1.promotion_id,\r\n                        promotion_name:this.form1.promotion_name,\r\n                        creater:this.form1.creater\r\n                    }\r\n                }).then(res=>res.data).then(res=>{\r\n                    if(res.code==200){\r\n                        this.tableData=res.data;\r\n                        this.total=res.total;\r\n                    }else{\r\n                        alert('获取数据失败')\r\n                    }\r\n\r\n                })\r\n            },\r\n            calculate(miniProgramName) {\r\n                if (!this.form.date) {\r\n                    this.$message({\r\n                        message: '先选择日期！',\r\n                        type: 'info'\r\n                    });\r\n                    return;\r\n                }\r\n                let userName = this.form.creater ? this.form.creater : this.user.name;\r\n                this.$axios.post(this.$httpUrl+'/shouzhi/calculate',{mini_program_name:miniProgramName, date:this.form.date, user_name: userName})\r\n                    .then(res=>{\r\n\r\n                    if(res.status==200){\r\n                        this.$confirm('计算结果为' + res.data + '，是否使用该值？', '提示', {\r\n                            confirmButtonText: '确定',\r\n                            cancelButtonText: '取消',\r\n                            type: 'warning'\r\n                        }).then(() => {\r\n                            if (miniProgramName === \"微信\") {\r\n                                this.form.fanqieweixiaorecharge = res.data;\r\n                            } else if(miniProgramName === \"抖音\") {\r\n                                this.form.fanqiedouxiaorecharge = res.data;\r\n                            } else if(miniProgramName === \"免费\") {\r\n                                this.form.fanqiemianfeirecharge = res.data;\r\n                            }\r\n                        }).catch(() => {\r\n\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        beforeMount() {\r\n            if (this.user.roleId!=2){\r\n                this.form1.creater='';\r\n            } else {\r\n                this.form1.creater=JSON.parse(sessionStorage.getItem('CurUser')).name;\r\n            }\r\n            this.loadPost()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PromotionManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PromotionManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PromotionManage.vue?vue&type=template&id=6fb5ad05&scoped=true&\"\nimport script from \"./PromotionManage.vue?vue&type=script&lang=js&\"\nexport * from \"./PromotionManage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6fb5ad05\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}